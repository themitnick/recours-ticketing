import{f as O,g as P}from"./chunk-PV6U5WT5.js";import{$b as D,Aa as w,Da as x,Na as h,Ob as T,Pb as F,Rb as R,Ta as d,Ua as e,Va as t,Vb as I,Wa as m,X as g,Y as v,ab as u,ac as j,cb as k,dc as A,gc as V,hb as C,hc as N,ic as z,kb as i,lb as l,mb as b,mc as L,nb as _,nc as H,ob as f,pb as S,qa as n,qb as y,tb as M,ua as E}from"./chunk-I6GMZB6S.js";var K=s=>({"background-color":s});function B(s,a){if(s&1&&(e(0,"div",57)(1,"div",58)(2,"div",59),g(),e(3,"svg",60),m(4,"path",61),t()(),v(),e(5,"div",62)(6,"div",63),i(7),t(),e(8,"div",64),i(9),t(),e(10,"div",65)(11,"span"),i(12),t(),g(),e(13,"svg",66),m(14,"path",61),t()()()()()),s&2){let o=a.$implicit,r=k();d("ngClass","kpi-card "+o.color),n(4),h("d",r.getKpiIcon(o.icon)),n(3),l(o.value),n(2),l(o.label),n(),d("ngClass",o.evolution>=0?"positive":"negative"),n(2),_("",o.evolution>0?"+":"","",o.evolution,"%"),n(2),h("d",o.evolution>=0?"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6":"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6")}}function G(s,a){if(s&1&&(e(0,"div",67)(1,"div",68),m(2,"div",69),e(3,"span",70),i(4),t()(),e(5,"div",71)(6,"div",72),i(7),t(),e(8,"div",73),i(9),t()()()),s&2){let o=a.$implicit;n(2),d("ngStyle",M(4,K,o.color)),n(2),l(o.label),n(3),l(o.value),n(2),b("",o.percentage,"%")}}function q(s,a){if(s&1&&(e(0,"div",74)(1,"div",68)(2,"div",75)(3,"span",76),i(4),t()(),e(5,"div")(6,"div",77),i(7),t(),e(8,"div",78),i(9),t()()(),e(10,"div",71)(11,"div",72),i(12),t(),e(13,"div",78),i(14,"trait\xE9s"),t(),e(15,"div",79),i(16),t()()()),s&2){let o=a.$implicit;n(4),l(o.initiales),n(3),l(o.nom),n(2),l(o.role),n(3),l(o.traites),n(3),d("ngClass",o.satisfaction>=4?"text-green-600":o.satisfaction>=3?"text-yellow-600":"text-red-600"),n(),b(" \u2605 ",o.satisfaction,"/5 ")}}function J(s,a){if(s&1&&(e(0,"div",51)(1,"span",70),i(2),t(),e(3,"div",68)(4,"div",80),m(5,"div",81),t(),e(6,"span",82),i(7),t()()()),s&2){let o=a.$implicit;n(2),l(o.type),n(3),C("width",o.performance,"%"),n(2),b("",o.performance,"%")}}function U(s,a){if(s&1&&(e(0,"div",83)(1,"div")(2,"div",77),i(3),t(),e(4,"div",78),i(5),t()(),e(6,"div",71)(7,"div",84),i(8),t(),e(9,"div",85),i(10),t()()()),s&2){let o=a.$implicit;n(3),l(o.periode),n(2),l(o.description),n(3),l(o.total),n(),d("ngClass",o.evolution>=0?"text-green-600":"text-red-600"),n(),_(" ",o.evolution>0?"+":"","",o.evolution,"% ")}}var W=class s{constructor(a,o,r){this.recoursService=a;this.ticketService=o;this.toastService=r}filters={dateDebut:"",dateFin:"",type:"all",statut:"",priorite:""};kpis=[{label:"Total Recours",value:127,evolution:12,icon:"file",color:"blue"},{label:"Tickets IT",value:89,evolution:-5,icon:"tool",color:"green"},{label:"Taux R\xE9solution",value:94,evolution:8,icon:"check",color:"yellow"},{label:"SLA Respect\xE9",value:87,evolution:-2,icon:"clock",color:"red"}];repartitionStatut=[{label:"Nouveau",value:23,percentage:18,color:"#ef4444"},{label:"En cours",value:45,percentage:35,color:"#f59e0b"},{label:"R\xE9solu",value:52,percentage:41,color:"#10b981"},{label:"Ferm\xE9",value:7,percentage:6,color:"#6b7280"}];evolutionTemporelle=[{periode:"Cette semaine",description:"2-8 Ao\xFBt 2025",total:34,evolution:15},{periode:"Semaine derni\xE8re",description:"26 Juil - 1 Ao\xFBt",total:28,evolution:-8},{periode:"Ce mois",description:"Ao\xFBt 2025",total:127,evolution:22},{periode:"Mois dernier",description:"Juillet 2025",total:104,evolution:5}];performanceAgents=[{nom:"Marie Kouassi",initiales:"MK",role:"Agent Recours",traites:23,satisfaction:4.7},{nom:"Jean Ouattara",initiales:"JO",role:"Technicien IT",traites:19,satisfaction:4.2},{nom:"Fatou Diallo",initiales:"FD",role:"Superviseur",traites:15,satisfaction:4.9},{nom:"Koffi Assi",initiales:"KA",role:"Agent IT",traites:12,satisfaction:3.8}];tempsResolution={moyen:18.5,slaRespect:87,parType:[{type:"Recours Facturation",performance:92},{type:"Tickets Technique",performance:85},{type:"Demandes Acc\xE8s",performance:95},{type:"Incidents Majeurs",performance:78}]};recoursStats={};ticketsStats={};ngOnInit(){this.initializeFilters(),this.loadData()}initializeFilters(){let a=new Date,o=new Date(a.getFullYear(),a.getMonth(),1);this.filters.dateDebut=o.toISOString().split("T")[0],this.filters.dateFin=a.toISOString().split("T")[0]}loadData(){this.recoursService.getStatistiques().subscribe(a=>{this.recoursStats=a}),this.ticketService.getStatistiques().subscribe(a=>{this.ticketsStats=a})}applyFilters(){console.log("Application des filtres:",this.filters),this.loadData()}resetFilters(){this.filters={dateDebut:"",dateFin:"",type:"all",statut:"",priorite:""},this.initializeFilters(),this.loadData()}getKpiIcon(a){let o={file:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",tool:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z",check:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",clock:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"};return o[a]||o.file}exportExcel(){console.log("Export Excel d\xE9clench\xE9"),this.toastService.info("Export Excel","Export Excel en cours de d\xE9veloppement...")}exportPDF(){console.log("Export PDF d\xE9clench\xE9"),this.toastService.info("Export PDF","Export PDF en cours de d\xE9veloppement...")}sendEmail(){console.log("Envoi email d\xE9clench\xE9"),this.toastService.info("Envoi par email","Envoi par email en cours de d\xE9veloppement...")}scheduleReport(){console.log("Programmation rapport d\xE9clench\xE9e"),this.toastService.info("Programmation","Programmation de rapports en cours de d\xE9veloppement...")}static \u0275fac=function(o){return new(o||s)(E(O),E(P),E(H))};static \u0275cmp=w({type:s,selectors:[["app-rapports"]],decls:151,vars:19,consts:[[1,"rapports"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-2"],[1,"card","p-6","mb-8"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","lg:grid-cols-5","gap-4"],[1,"form-label"],["type","date",1,"form-input",3,"ngModelChange","change","ngModel"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","recours"],["value","tickets"],["value",""],["value","NOUVEAU"],["value","EN_COURS"],["value","RESOLU"],["value","FERME"],[1,"flex","items-end"],[1,"btn","btn-secondary","w-full",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8","mb-8"],[1,"card","p-6"],[1,"space-y-3"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],["class","flex items-center justify-between p-3 border rounded",4,"ngFor","ngForOf"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"text-center","p-4","bg-blue-50","rounded"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-blue-700"],[1,"text-center","p-4","bg-green-50","rounded"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-sm","text-green-700"],[1,"space-y-2"],["class","flex justify-between items-center",4,"ngFor","ngForOf"],["class","flex items-center justify-between p-3 bg-gray-50 rounded",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-4"],[1,"btn","btn-primary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"btn","btn-secondary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"btn","btn-success",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"btn","btn-info",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"text-xl","font-semibold","text-gray-900","mb-6"],[1,"flex","justify-between","items-center"],[1,"text-gray-600"],[1,"font-bold","text-2xl","text-primary-600"],[1,"font-semibold","text-red-600"],[1,"font-semibold","text-yellow-600"],[1,"font-semibold","text-green-600"],[3,"ngClass"],[1,"kpi-content"],[1,"kpi-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"kpi-data"],[1,"kpi-value"],[1,"kpi-label"],[1,"kpi-evolution",3,"ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],[1,"w-4","h-4","rounded","mr-3",3,"ngStyle"],[1,"text-sm","text-gray-700"],[1,"text-right"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","justify-between","p-3","border","rounded"],[1,"w-8","h-8","bg-primary-100","rounded-full","flex","items-center","justify-center","mr-3"],[1,"text-primary-600","font-medium","text-sm"],[1,"font-medium"],[1,"text-sm","text-gray-600"],[1,"text-xs",3,"ngClass"],[1,"w-32","bg-gray-200","rounded-full","h-2","mr-2"],[1,"bg-blue-600","h-2","rounded-full"],[1,"text-sm","font-medium"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded"],[1,"font-bold","text-lg"],[1,"text-sm",3,"ngClass"]],template:function(o,r){o&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),i(3,"Rapports et Analyses"),t(),e(4,"p",3),i(5,"Tableaux de bord et indicateurs de performance"),t()(),e(6,"div",4)(7,"h2",5),i(8,"Filtres"),t(),e(9,"div",6)(10,"div")(11,"label",7),i(12,"Date d\xE9but"),t(),e(13,"input",8),y("ngModelChange",function(p){return S(r.filters.dateDebut,p)||(r.filters.dateDebut=p),p}),u("change",function(){return r.applyFilters()}),t()(),e(14,"div")(15,"label",7),i(16,"Date fin"),t(),e(17,"input",8),y("ngModelChange",function(p){return S(r.filters.dateFin,p)||(r.filters.dateFin=p),p}),u("change",function(){return r.applyFilters()}),t()(),e(18,"div")(19,"label",7),i(20,"Type"),t(),e(21,"select",9),y("ngModelChange",function(p){return S(r.filters.type,p)||(r.filters.type=p),p}),u("change",function(){return r.applyFilters()}),e(22,"option",10),i(23,"Tous"),t(),e(24,"option",11),i(25,"Recours"),t(),e(26,"option",12),i(27,"Tickets"),t()()(),e(28,"div")(29,"label",7),i(30,"Statut"),t(),e(31,"select",9),y("ngModelChange",function(p){return S(r.filters.statut,p)||(r.filters.statut=p),p}),u("change",function(){return r.applyFilters()}),e(32,"option",13),i(33,"Tous"),t(),e(34,"option",14),i(35,"Nouveau"),t(),e(36,"option",15),i(37,"En cours"),t(),e(38,"option",16),i(39,"R\xE9solu"),t(),e(40,"option",17),i(41,"Ferm\xE9"),t()()(),e(42,"div",18)(43,"button",19),u("click",function(){return r.resetFilters()}),g(),e(44,"svg",20),m(45,"path",21),t(),i(46," Reset "),t()()()(),v(),e(47,"div",22),x(48,B,15,8,"div",23),t(),e(49,"div",24)(50,"div",25)(51,"h3",5),i(52,"R\xE9partition par Statut"),t(),e(53,"div",26),x(54,G,10,6,"div",27),t()(),e(55,"div",25)(56,"h3",5),i(57,"Performance par Agent"),t(),e(58,"div",26),x(59,q,17,6,"div",28),t()(),e(60,"div",25)(61,"h3",5),i(62,"Temps de R\xE9solution"),t(),e(63,"div",29)(64,"div",30)(65,"div",31)(66,"div",32),i(67),t(),e(68,"div",33),i(69,"Temps moyen"),t()(),e(70,"div",34)(71,"div",35),i(72),t(),e(73,"div",36),i(74,"SLA respect\xE9"),t()()(),e(75,"div",37),x(76,J,8,4,"div",38),t()()(),e(77,"div",25)(78,"h3",5),i(79,"\xC9volution dans le temps"),t(),e(80,"div",29),x(81,U,11,6,"div",39),t()()(),e(82,"div",4)(83,"h3",5),i(84,"Exporter les donn\xE9es"),t(),e(85,"div",40)(86,"button",41),u("click",function(){return r.exportExcel()}),g(),e(87,"svg",20),m(88,"path",42),t(),i(89," Exporter Excel "),t(),v(),e(90,"button",43),u("click",function(){return r.exportPDF()}),g(),e(91,"svg",20),m(92,"path",44),t(),i(93," Exporter PDF "),t(),v(),e(94,"button",45),u("click",function(){return r.sendEmail()}),g(),e(95,"svg",20),m(96,"path",46),t(),i(97," Envoyer par email "),t(),v(),e(98,"button",47),u("click",function(){return r.scheduleReport()}),g(),e(99,"svg",20),m(100,"path",48),t(),i(101," Programmer "),t()()(),v(),e(102,"div",49)(103,"div",25)(104,"h2",50),i(105,"Statistiques Recours"),t(),e(106,"div",29)(107,"div",51)(108,"span",52),i(109,"Total recours"),t(),e(110,"span",53),i(111),t()(),e(112,"div",51)(113,"span",52),i(114,"Nouveaux"),t(),e(115,"span",54),i(116),t()(),e(117,"div",51)(118,"span",52),i(119,"En cours"),t(),e(120,"span",55),i(121),t()(),e(122,"div",51)(123,"span",52),i(124,"R\xE9solus"),t(),e(125,"span",56),i(126),t()()()(),e(127,"div",25)(128,"h2",50),i(129,"Statistiques Tickets IT"),t(),e(130,"div",29)(131,"div",51)(132,"span",52),i(133,"Total tickets"),t(),e(134,"span",53),i(135),t()(),e(136,"div",51)(137,"span",52),i(138,"Nouveaux"),t(),e(139,"span",54),i(140),t()(),e(141,"div",51)(142,"span",52),i(143,"En cours"),t(),e(144,"span",55),i(145),t()(),e(146,"div",51)(147,"span",52),i(148,"R\xE9solus"),t(),e(149,"span",56),i(150),t()()()()()()),o&2&&(n(13),f("ngModel",r.filters.dateDebut),n(4),f("ngModel",r.filters.dateFin),n(4),f("ngModel",r.filters.type),n(10),f("ngModel",r.filters.statut),n(17),d("ngForOf",r.kpis),n(6),d("ngForOf",r.repartitionStatut),n(5),d("ngForOf",r.performanceAgents),n(8),b("",r.tempsResolution.moyen,"h"),n(5),b("",r.tempsResolution.slaRespect,"%"),n(4),d("ngForOf",r.tempsResolution.parType),n(5),d("ngForOf",r.evolutionTemporelle),n(30),l(r.recoursStats.total),n(5),l(r.recoursStats.nouveau),n(5),l(r.recoursStats.enCours),n(5),l(r.recoursStats.resolu),n(9),l(r.ticketsStats.total),n(5),l(r.ticketsStats.nouveau),n(5),l(r.ticketsStats.enCours),n(5),l(r.ticketsStats.resolu))},dependencies:[I,T,F,R,L,N,z,D,V,j,A],styles:[".kpi-card[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;padding:1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.kpi-card.blue[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.kpi-card.green[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.kpi-card.yellow[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.kpi-card.red[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.kpi-content[_ngcontent-%COMP%]{display:flex;align-items:center}.kpi-icon[_ngcontent-%COMP%]{margin-right:1rem;display:flex;height:3rem;width:3rem;align-items:center;justify-content:center;border-radius:.5rem}.kpi-card.blue[_ngcontent-%COMP%]   .kpi-icon[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.kpi-card.green[_ngcontent-%COMP%]   .kpi-icon[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.kpi-card.yellow[_ngcontent-%COMP%]   .kpi-icon[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.kpi-card.red[_ngcontent-%COMP%]   .kpi-icon[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.kpi-value[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.kpi-label[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.kpi-evolution[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;align-items:center;font-size:.75rem;line-height:1rem;font-weight:500}.kpi-evolution.positive[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.kpi-evolution.negative[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}"]})};export{W as RapportsComponent};
